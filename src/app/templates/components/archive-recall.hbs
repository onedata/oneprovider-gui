{{#modal.header
  class="archive-recall-part archive-recall-modal-header hide-before-shadow"
}}
  {{archive-recall/header archive=archive}}
{{/modal.header}}

{{#modal.body
  id=modalBodyId
  class=(concat-classes
    "archive-recall-part archive-recall-modal-body upload-drop-zone-container full-width-body"
    (if (or disabled isSubmitting) "disabled")
  )
}}
  {{archive-recall/browser
    class="full-width-body-content"
    modal=modal
    modalBodyId=modalBodyId
    parentModalDialogSelector=parentModalDialogSelector
    space=space
    options=options
    disabled=(or disabled isSubmitting)
    browserRequiredDataProxy=browserRequiredDataProxy
    currentBrowsableItem=currentBrowsableItem
    currentBrowsableItemError=currentBrowsableItemProxy.reason
    selectedItems=selectedItems
    ignoreDeselectSelector=ignoreDeselectSelector
    onDirIdChange=(action (mut dirId))
    onSelectedItemsChange=(action "changeSelectedItems")
    onFilesystemChange=(action "filesystemChanged")
  }}
{{/modal.body}}

{{#modal.footer class="archive-recall-part archive-recall-modal-footer"}}
  {{archive-recall/footer
    dataset=dataset
    parentDir=targetRecallParent
    isSubmitting=isSubmitting
    nameValidationErrorProxy=nameValidationErrorProxy
    browserValidationErrorProxy=browserValidationErrorProxy
    disabled=disabled
    targetName=targetName
    onTargetNameChange=(action targetNameChanged)
    onSubmit=(action "submit")
    onCancel=(action onCancel)
  }}
{{/modal.footer}}
