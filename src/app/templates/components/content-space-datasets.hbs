viewMode: {{viewMode}}

{{#promise-proxy-container proxy=initialRequiredDataProxy}}
  {{#if browsableDataset}}
    {{file-browser
      browserModel=browserModel
      dir=browsableDataset
      customRootDir=spaceDatasetsRoot
      customFetchDirChildren=(action "fetchChildren")
      resolveFileParentFun=(action "resolveFileParent")
      spaceId=spaceId
      spacePrivileges=spacePrivileges
      selectedFiles=selectedItems
      isSpaceOwned=space.currentUserIsOwner
      changeSelectedFiles=(action "changeSelectedItems")
      updateDirEntityId=(action "updateDirEntityId")
    }}
  {{/if}}
  
  {{#if filesToShowDatasets}}
    {{datasets-modal
      open=true
      mode="dataset"
      files=filesToShowDatasets
      editPrivilege=true
      onHide=(action closeDatasetsModal)
      getDataUrl=(action getDataUrl)
      getDatasetsUrl=(action getDatasetsUrl)
    }}
  {{/if}}

  {{#if fileToShowDatasetOpen}}
    {{dataset-browser/dataset-open-modal
      open=true
      dataset=fileToShowDatasetOpen
      onHide=(action closeDatasetOpenModal)
      getDataUrl=(action getDataUrl)
    }}
  {{/if}}
  
  {{#if datasetToCreateArchive}}
    {{archive-create-modal
      open=true
      dataset=datasetToCreateArchive
      onHide=(action closeCreateArchiveModal)
      onArchiveCreate=(action submitArchiveCreate)
    }}
  {{/if}}

{{/promise-proxy-container}}
