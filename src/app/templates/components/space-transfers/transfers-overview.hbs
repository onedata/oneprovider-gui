<div class="row row-active-transfers {{if stickyOverview "sticky"}}" style={{stickyOverviewStyle}} onclick={{action "stickyFocused"}}>
  <div class="row row-overview">
    <div class="col-xs-12 col-md-7 col-providers-map map-column">
      <h2>
        {{tt this "providersMapOfDist"}}
      </h2>
      <div class="row loadable-row">
        {{space-transfers/providers-map
          providers=providers
          providerTransferConnections=providerTransferConnections
          destinationProviderIds=destinationProviderIds
          sourceProviderIds=sourceProviderIds
          providersColors=providersColors
        }}
      </div>
    </div>
    <div class="col-xs-12 col-md-5 col-throughput-pie-chart">
      <h2><span class="one-label">{{tt this "throughputDistribution.title"}}</span></h2>
      <div class="row loadable-row">
        {{#loading-container isLoading=(not providersLoaded)}}
          {{#bs-tab
            fade=false
            class="bs-tab bs-tab-onedata bs-tab-modern"
            customTabs=true
            activeId="throughput-chart-tab"
            as |tab|
          }}
            {{#bs-nav type="tabs" as |nav|}}
              {{#nav.item active=(eq throughputTransferType "all")}}
                <a class="nav-link" role="tab" onclick={{action (mut throughputTransferType) "all"}}>
                  {{tt this "throughputDistribution.all"}}
                </a>
              {{/nav.item}}
              {{#nav.item active=(eq throughputTransferType "job")}}
                <a class="nav-link" role="tab" onclick={{action (mut throughputTransferType) "job"}}>
                  {{tt this "throughputDistribution.jobs"}}
                </a>
              {{/nav.item}}
              {{#nav.item active=(eq throughputTransferType "onTheFly")}}
                <a class="nav-link" role="tab" onclick={{action (mut throughputTransferType) "onTheFly"}}>
                  {{tt this "throughputDistribution.onTheFly"}}
                </a>
              {{/nav.item}}
            {{/bs-nav}}
            <div class="tab-content">
              {{#tab.pane elementId="throughput-chart-tab"}}
                {{space-transfers/throughput-distribution
                  space=space
                  providers=providers
                  providersColors=providersColors
                  transferStatProviderId=selectedTransferStatProviderId
                  selectTransferStatProvider=(action (mut selectedTransferStatProviderId))
                  transferType=throughputTransferType
                }}
              {{/tab.pane}}
            </div>
          {{/bs-tab}}
        {{/loading-container}}
      </div>
    </div>
  </div>
  
  <div class="col-xs-12 row-expand-handler" {{action "toggleOverview"}}>
    <span class="toggle-expand left {{if overviewExpanded "opened"}}">
      {{one-icon class="toggle-icon" icon="arrow-down"}}
    </span>
    <span class="one-label">
      {{tt this (if overviewExpanded "hide" "show")}}
    </span>
  </div>
</div>
