{{#promise-proxy-container proxy=initialRequiredDataProxy}}
  {{#if dir}}
    {{file-browser
      dir=dir
      spacePrivileges=spacePrivileges
      selectedFiles=selectedFiles
      selectedFilesForJump=selectedFilesForJump
      changeSelectedFiles=(action "changeSelectedFiles")
      updateDirEntityId=(action "updateDirEntityId")
      openCreateNewDirectory=(action "openCreateItemModal" "dir")
      openRemove=(action "openRemoveModal")
      openRename=(action "openRenameModal")
      openInfo=(action "openInfoModal")
      openShare=(action "openShareModal")
      openMetadata=(action "openMetadataModal")
      openEditPermissions=(action "openEditPermissionsModal")
      openFileDistributionModal=(action "openFileDistributionModal")
      openQos=(action "openQosModal")
    }}
    <div class="upload-drop-zone">
      {{one-icon icon="browser-upload" class="upload-watermark-icon"}}
    </div>
  {{/if}}

  {{#if createItemParentDir}}
    {{file-browser/fb-create-item-modal
      open=true
      parentDir=createItemParentDir
      itemType=createItemType
      onHide=(action "closeCreateItemModal")
    }}
  {{/if}}

  {{#if fileToRename}}
    {{file-browser/fb-rename-modal
      open=true
      file=fileToRename
      parentDir=renameParentDir
      onHide=(action "closeRenameModal")
    }}
  {{/if}}

  {{#if fileToShowInfo}}
    {{file-browser/fb-info-modal
      open=true
      file=fileToShowInfo
      spaceEntityId=spaceEntityId
      onHide=(action "closeInfoModal")
    }}
  {{/if}}

  {{#if fileToShare}}
    {{file-browser/fb-share-modal
      open=true
      file=fileToShare
      managePrivilege=spacePrivileges.manageShares
      onHide=(action "closeShareModal")
      getShareUrl=(action "getShareUrl")
    }}
  {{/if}}

  {{#if filesToRemove}}
    {{file-browser/fb-remove-modal
      open=true
      files=filesToRemove
      parentDir=removeParentDir
      onHide=(action "closeRemoveModal")
    }}
  {{/if}}

  {{#if filesToEditPermissions}}
    {{edit-permissions-modal
      files=filesToEditPermissions
      space=spaceProxy.content
      onClose=(action "closeEditPermissionsModal")
    }}
  {{/if}}

  {{#if filesToShowDistribution}}
    {{file-distribution-modal
      files=filesToShowDistribution
      space=spaceProxy.content
      onClose=(action "closeFileDistributionModal")
      getTransfersUrl=(action "getTransfersUrl")
    }}
  {{/if}}

  {{#if fileToShowMetadata}}
    {{file-browser/fb-metadata-modal
      open=true
      file=fileToShowMetadata
      onHide=(action "closeMetadataModal")
    }}
  {{/if}}
  
  {{#if filesToShowQos}}
    {{qos-modal
      open=true
      files=filesToShowQos
      showPrivilege=spacePrivileges.viewQos
      editPrivilege=spacePrivileges.manageQos
      onHide=(action "closeQosModal")
      getDataUrl=(action "getDataUrl")
    }}
  {{/if}}
{{/promise-proxy-container}}
