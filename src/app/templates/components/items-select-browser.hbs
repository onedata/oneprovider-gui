{{#modal.header class="items-select-browser-part"}}
  {{#items-select-browser/header
    constraintSpec=constraintSpec
  }}
    {{yield}}
  {{/items-select-browser/header}}
{{/modal.header}}

{{#modal.body id=modalBodyId class="items-select-browser-part"}}
  <div class="items-select-browser-body items-select-browser-part">
    {{#promise-proxy-container proxy=initialRequiredDataProxy}}
      {{file-browser
        dir=dir
        previewMode=previewMode
        browserModel=browserModel
        parentModalDialogSelector=parentModalDialogSelector
        isSpaceOwned=space.currentUserIsOwner
        spaceId=space.entityId
        contentScroll=contentScroll
        selectedFiles=selectedItems
        spacePrivileges=spacePrivileges
        changeSelectedFiles=(action (mut selectedItems))
        updateDirEntityId=(action "updateDirEntityId")
      }}

      {{!-- FIXME: action modals for filesystem-browser --}}

      {{!-- FIXME: action modals for datasets-browser --}}
    {{/promise-proxy-container}}
  </div>
{{/modal.body}}

{{#modal.footer class="items-select-browser-part"}}
  {{items-select-browser/footer
    validationError=validationError
    selectedItems=selectedItems
    submitDisabled=submitDisabled
    onCancel=(action "cancel")
    onSubmit=(action "submit")
  }}
{{/modal.footer}}