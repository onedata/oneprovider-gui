{{#promise-proxy-container proxy=initialRequiredDataProxy}}
  {{file-browser
    browserModel=browserModel
    dir=dir
    spaceId=spaceEntityId
    spacePrivileges=spacePrivileges
    selectedItems=selectedItems
    selectedItemsForJumpProxy=selectedItemsForJumpProxy
    isSpaceOwned=spaceProxy.currentUserIsOwner
    getItemByIdFun=(action getItemById)
    changeSelectedItems=(action "changeSelectedItems")
    updateDirEntityId=(action "updateDirEntityId")
  }}
  <div class="upload-drop-zone {{if effUploadDisabled "upload-disabled"}}">
    <div class="upload-info">
      {{#if effUploadDisabled}}
        {{one-icon tagName="div" icon="ban-left" class="upload-watermark-icon"}}
      {{else}}
        {{one-icon tagName="div"  icon="browser-upload" class="upload-watermark-icon"}}
      {{/if}}
    </div>
  </div>

  {{#if createItemParentDir}}
    {{file-browser/fb-create-item-modal
      open=true
      parentDir=createItemParentDir
      itemType=createItemType
      onHide=(action closeCreateItemModal)
    }}
  {{/if}}

  {{#if fileToRename}}
    {{file-browser/fb-rename-modal
      open=true
      file=fileToRename
      onHide=(action closeRenameModal)
    }}
  {{/if}}

  {{#if fileToShowInfo}}
    {{file-browser/fb-info-modal
      open=true
      file=fileToShowInfo
      initialTab=showInfoInitialTab
      space=spaceProxy.content
      getDataUrl=(action "getFileUrl")
      onHide=(action closeInfoModal)
    }}
  {{/if}}

  {{#if fileToShowRecallInfo}}
    {{recall-info-modal
      open=true
      file=fileToShowRecallInfo
      onHide=(action closeRecallInfoModal)
    }}
  {{/if}}

  {{#if fileToShare}}
    {{file-browser/fb-share-modal
      open=true
      file=fileToShare
      managePrivilege=spacePrivileges.manageShares
      onHide=(action closeShareModal)
      getShareUrl=(action "getShareUrl")
    }}
  {{/if}}

  {{#if filesToRemove}}
    {{file-browser/fb-remove-modal
      open=true
      files=filesToRemove
      parentDir=removeParentDir
      spacePrivileges=spacePrivileges
      onHide=(action closeRemoveModal)
    }}
  {{/if}}

  {{#if filesToEditPermissions}}
    {{edit-permissions-modal
      files=filesToEditPermissions
      space=spaceProxy.content
      onClose=(action closeEditPermissionsModal)
    }}
  {{/if}}

  {{#if filesToShowDistribution}}
    {{file-distribution-modal
      files=filesToShowDistribution
      space=spaceProxy.content
      onClose=(action closeFileDistributionModal)
      getTransfersUrl=(action "getTransfersUrl")
    }}
  {{/if}}

  {{#if fileToShowMetadata}}
    {{file-browser/fb-metadata-modal
      open=true
      file=fileToShowMetadata
      onHide=(action closeMetadataModal)
    }}
  {{/if}}

  {{#if filesToShowDatasets}}
    {{datasets-modal
      open=true
      files=filesToShowDatasets
      space=spaceProxy.content
      editPrivilege=spacePrivileges.manageDatasets
      onHide=(action closeDatasetsModal)
      getDatasetsUrl=(action "getDatasetsUrl")
      getDataUrl=(action "getFileUrl")
    }}
  {{/if}}

  {{#if filesToShowQos}}
    {{qos-modal
      open=true
      files=filesToShowQos
      space=spaceProxy.content
      showPrivilege=spacePrivileges.viewQos
      editPrivilege=spacePrivileges.manageQos
      onHide=(action closeQosModal)
      getDataUrl=(action "getFileUrl")
    }}
  {{/if}}

  {{file-browser/fb-download-modal
    file=fileForConfirmDownload
    confirmDownload=(action "confirmFileDownload")
    onHide=(action "closeConfirmFileDownload")
  }}
{{/promise-proxy-container}}
