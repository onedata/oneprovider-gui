<PromiseProxyContainer @proxy={{initialRequiredDataProxy}}>
  <FileBrowser
    @browserModel={{browserModel}}
    @parentModalDialogSelector={{parentModalDialogSelector}}
    @contentScroll={{contentScroll}}
    @ignoreDeselectSelector={{ignoreDeselectSelector}}
    @onRegisterApi={{onRegisterApi}}
    @showSelectionToolkit={{showSelectionToolkit}}
    @getItemByIdFun={{action getItemById}}
    @resolveFileParentFun={{action "resolveItemParent"}}
    @updateDirEntityId={{action "updateDirEntityId"}}
    @dirStatsServiceState={{dirStatsServiceStateProxy.content}}
  />
</PromiseProxyContainer>

{{#if filesToShowInfo}}
  <FileInfoModal
    @open={{true}}
    @files={{filesToShowInfo}}
    @initialTab={{showInfoInitialTab}}
    @space={{space}}
    @browserModel={{browserModel}}
    @dirStatsServiceState={{dirStatsServiceStateProxy.content}}
    @tabOptions={{hash
      permissions=(hash readonly=true)
    }}
    @getDataUrl={{action "getFileUrl"}}
    @onHide={{action closeInfoModal}}
    @getProvidersUrl={{action "getProvidersUrl"}}
  />
{{/if}}

<FileBrowser::FbDownloadModal
  @file={{fileForConfirmDownload}}
  @confirmDownload={{action confirmFileDownload}}
  @onHide={{action closeConfirmFileDownload}}
/>

{{#if archivesToDelete}}
  <ArchivesDeleteModal
    @open={{true}}
    @archives={{archivesToDelete}}
    @onHide={{action closeArchivesDeleteModal}}
  />
{{/if}}

{{#if archiveToShowDetails}}
  <ArchiveDetailsModal
    @open={{true}}
    @space={{space}}
    @browsableArchive={{archiveToShowDetails}}
    @options={{archiveDetailsOptions}}
    @onHide={{action closeArchivePropertiesModal}}
  />
{{/if}}

{{#if createArchiveOpened}}
  <ArchiveCreateModal
    @open={{true}}
    @space={{space}}
    @dataset={{browsableDataset}}
    @options={{createArchiveOptions}}
    @onHide={{action closeCreateArchiveModal}}
    @onArchiveCreate={{action submitArchiveCreate}}
  />
{{/if}}

{{#if archiveToRecall}}
  <ArchiveRecallModal
    @open={{true}}
    @space={{space}}
    @archive={{archiveToRecall}}
    @onHide={{action closeArchiveRecallModal}}
    @onArchiveRecallStarted={{action handleArchiveRecallStarted}}
  />
{{/if}}
